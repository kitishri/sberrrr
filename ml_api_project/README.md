# Car Price Prediction API

## Описание

API для предсказания стоимости автомобилей с использованием обученной модели машинного обучения. Реализован на FastAPI с интеграцией Celery для асинхронных задач. Включает авторизацию по API-ключу, хранение моделей и мониторинг.

## Технологии

- FastAPI — веб-фреймворк для API  
- Celery — асинхронное выполнение задач  
- Dill — сериализация модели  
- MinIO — хранилище моделей  
- Docker — контейнеризация  
- Redis — брокер задач и хранение флагов  
- Prometheus и Grafana — мониторинг и метрики  

## Запуск

1. Создайте `.env` с переменными окружения (API_KEY, MinIO, Redis и др.).  
2. Поднимите контейнеры через Docker Compose (FastAPI, Celery, Redis, MinIO и др.).  
3. Запустите API и используйте методы для запуска предсказаний и получения результатов.

## Основные эндпоинты

- `/predict-all` — запускает задачу предсказания всех автомобилей (требует API-ключ).  
- `/result/{task_id}` — проверка статуса и получение результата асинхронной задачи.  
- `/status` — проверка состояния API.

## Принцип работы

- Запрос на `/predict-all` инициирует Celery-задачу для массового предсказания.  
- Задача выполняется асинхронно, результат сохраняется и доступен по task_id.  
- Модель загружается из хранилища MinIO при старте приложения.  
- Доступ к эндпоинтам защищён API-ключом.  
- Метрики и логи доступны для мониторинга через Prometheus и Grafana.

## Контрибьюции

Приглашаем к улучшениям и добавлению функционала через Pull Request с описанием изменений.